{"version":3,"sources":["webpack:///src/components/home/sub-pages/base-components/category/category-list-detail-item.vue","webpack:///./src/components/home/sub-pages/base-components/category/category-list-detail-item.vue?616c","webpack:///./src/components/home/sub-pages/base-components/category/category-list-detail-item.vue","webpack:///src/components/home/sub-pages/base-components/category/category-list-detail.vue","webpack:///./src/components/home/sub-pages/base-components/category/category-list-detail.vue?a1d1","webpack:///./src/components/home/sub-pages/base-components/category/category-list-detail.vue","webpack:///src/components/home/sub-pages/category-panel.vue","webpack:///./src/components/home/sub-pages/category-panel.vue?54cd","webpack:///./src/components/home/sub-pages/category-panel.vue"],"names":["category_list_detail_item","props","categoryItemData","type","Object","required","data","category_category_list_detail_item","render","_h","this","$createElement","_c","_self","staticClass","attrs","src","categoryThumb","_v","_s","categoryName","staticRenderFns","base_components_category_category_list_detail_item","__webpack_require__","normalizeComponent","ssrContext","category_list_detail","categoryList","Array","default","components","CategoryListDetailItem","computed","categoryListRowNum","Math","floor","length","categoryListFirstColNum","created","console","log","beforeMount","mounted","category_category_list_detail","_vm","_l","calListIndex","index","key","calListRowIndex","span","_e","base_components_category_category_list_detail","category_list_detail_normalizeComponent","category_panel","model","prop","event","visible","Boolean","CategoryListDetail","openCount","thisVisible","categoryListDetailVisible","goodsCategory","selectedCategoryList","activeCategoryIndex","level1","level2","watch","activeCategoryIndex.level1","handler","val","undefined","getCategory","_this2","$nextTick","$refs","categoryPanelLeftMenu","$el","style","height","window","innerHeight","categoryPanelRightMenu","$emit","init","methods","_this","axios","url","then","rep","i","push","catch","error","$set","goBack","changeCategory","map","x","sub_pages_category_panel","position","value","callback","$$v","expression","fixed","title","on","click-right","slot","size","name","ref","active-key","change","item","directives","rawName","category_panel_Component","category_panel_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/8.2c4f63f6ab7a463eb0b8.js","sourcesContent":["<template>\r\n   <div class=\"category-card\">\r\n       <div class=\"category-img\">\r\n           <img :src=\"categoryItemData.categoryThumb\">\r\n       </div>\r\n        <p class=\"category-desc\">{{categoryItemData.categoryName}}</p>\r\n\r\n   </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props:{\r\n        categoryItemData:{\r\n            type:Object,\r\n            required:true,\r\n        }\r\n    },\r\n\r\n    data:function(){\r\n        return{\r\n\r\n        }\r\n    }\r\n    \r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .category-card{\r\n        margin:5px auto;\r\n        width:100%;\r\n        .category-img{\r\n            width: 76%;\r\n            height: 100%;\r\n            margin:0 auto;\r\n            overflow: hidden;\r\n            background:url(@placeholder-img-base64)center no-repeat;\r\n            background-size:100%;\r\n            img{\r\n                width:100%;\r\n               \r\n               \r\n            }\r\n        };\r\n        .category-desc{\r\n                line-height: 23px;\r\n                height: 23px;\r\n                padding: 4px 0;\r\n                margin:0;\r\n                font-size: 14px;\r\n                color: #5D5D5D;\r\n                text-align: center;\r\n                white-space: nowrap;\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/home/sub-pages/base-components/category/category-list-detail-item.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"category-card\"},[_c('div',{staticClass:\"category-img\"},[_c('img',{attrs:{\"src\":_vm.categoryItemData.categoryThumb}})]),_vm._v(\" \"),_c('p',{staticClass:\"category-desc\"},[_vm._v(_vm._s(_vm.categoryItemData.categoryName))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6bfa498e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/home/sub-pages/base-components/category/category-list-detail-item.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6bfa498e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"D:\\\\\\\\About_Study\\\\\\\\研一\\\\\\\\项目\\\\\\\\商城项目\\\\\\\\代码\\\\\\\\shareShop-web-h5\\\\\\\\e-shop\\\\\\\\src\\\\\\\\assets\\\\\\\\style\\\\\\\\common.less\\\"}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./category-list-detail-item.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./category-list-detail-item.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./category-list-detail-item.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6bfa498e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./category-list-detail-item.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6bfa498e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/home/sub-pages/base-components/category/category-list-detail-item.vue\n// module id = null\n// module chunks = ","<!--商品分类列表-->\r\n<template>\r\n    <div >\r\n\r\n      <template v-if=\"categoryList.length>0\">\r\n\r\n            <van-row  type=\"flex\"  v-for=\"(calListIndex,index) in categoryListRowNum\"  :key=\"index\">\r\n<!--                \r\n                {{calListIndex*3}}//{{(categoryListLength-(calListIndex-1)*3)}}//\r\n                {{(categoryListLength-(calListIndex-1)*3)>=3?3:(categoryListLength-calListIndex*3)}} -->\r\n\r\n                <van-col span=\"8\"  v-for=\"calListRowIndex  in (categoryList.length-(calListIndex-1)*3)>=3?3:(categoryList.length-(calListIndex-1)*3)\" :key=\"(calListIndex-1)*3+calListRowIndex\">\r\n                    <category-list-detail-item :categoryItemData=\"categoryList[(calListIndex-1)*3+calListRowIndex-1]\">\r\n                    </category-list-detail-item> \r\n                </van-col> \r\n            \r\n            </van-row>\r\n       \r\n      </template>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport CategoryListDetailItem from \"@/components/home/sub-pages/base-components/category/category-list-detail-item\"\r\nexport default {\r\n    props:{\r\n        categoryList:{\r\n            type:Array,\r\n            default:()=>[],\r\n           \r\n        },\r\n\r\n    },\r\n    components:{\r\n        CategoryListDetailItem,\r\n    },\r\n    data:function(){\r\n        return{\r\n            //categoryListLength:0,\r\n        }\r\n    },\r\n    computed:{\r\n        categoryListRowNum:function(){\r\n            return Math.floor(this.categoryList.length/3)+1;\r\n            //return this.categoryListLength/3===0?1:this.categoryListLength/3;\r\n        },\r\n        categoryListFirstColNum:function(){\r\n            return Math.floor(this.categoryList.length%3);\r\n        },\r\n    },\r\n    created:function(){\r\n        console.log(\"categoryList.length:\"+this.categoryList.length);\r\n    },\r\n    beforeMount:function(){\r\n        \r\n        \r\n    },\r\n    mounted:function(){\r\n      \r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"less\" scoped>\r\n    .van-col{\r\n        //background:lightblue;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/home/sub-pages/base-components/category/category-list-detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.categoryList.length>0)?_vm._l((_vm.categoryListRowNum),function(calListIndex,index){return _c('van-row',{key:index,attrs:{\"type\":\"flex\"}},_vm._l(((_vm.categoryList.length-(calListIndex-1)*3)>=3?3:(_vm.categoryList.length-(calListIndex-1)*3)),function(calListRowIndex){return _c('van-col',{key:(calListIndex-1)*3+calListRowIndex,attrs:{\"span\":\"8\"}},[_c('category-list-detail-item',{attrs:{\"categoryItemData\":_vm.categoryList[(calListIndex-1)*3+calListRowIndex-1]}})],1)}),1)}):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-049fedd4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/home/sub-pages/base-components/category/category-list-detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-049fedd4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"D:\\\\\\\\About_Study\\\\\\\\研一\\\\\\\\项目\\\\\\\\商城项目\\\\\\\\代码\\\\\\\\shareShop-web-h5\\\\\\\\e-shop\\\\\\\\src\\\\\\\\assets\\\\\\\\style\\\\\\\\common.less\\\"}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./category-list-detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./category-list-detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./category-list-detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-049fedd4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./category-list-detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-049fedd4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/home/sub-pages/base-components/category/category-list-detail.vue\n// module id = null\n// module chunks = ","<template>\r\n    <van-popup  v-model=\"thisVisible\" \r\n                   position=\"left\">\r\n        <van-nav-bar :fixed=\"true\" \r\n                    title=\"Category\"\r\n                    @click-right=\"goBack\">\r\n                <span  slot=\"right\">\r\n                    back\r\n                    <van-icon size=\"1.3em\" name=\"arrow-left\"/>\r\n                </span>\r\n            </van-nav-bar>\r\n           \r\n           <div   class=\"panel-with-nav-bar fix-left\">\r\n               <van-badge-group ref=\"categoryPanelLeftMenu\" :active-key=\"activeCategoryIndex.level1\" @change=\"changeCategory\">\r\n                  \r\n                        <van-badge  v-for=\"(item,index) in goodsCategory\" :title=\"item.categoryName\" :key=\"index\">\r\n                        </van-badge>\r\n                  \r\n               </van-badge-group>\r\n\r\n            <div class=\"category-list-detail\" ref=\"categoryPanelRightMenu\" >\r\n               \r\n                <category-list-detail   v-for=\"(item,index) in goodsCategory\" :key=\"index\"\r\n                                        v-show=\"categoryListDetailVisible[index]\"\r\n                                        :categoryList=\"selectedCategoryList[index]\"\r\n                                       >\r\n                </category-list-detail>\r\n            </div>\r\n\r\n\r\n\r\n           </div>\r\n    </van-popup>\r\n</template>\r\n\r\n<script>\r\nimport CategoryListDetail from '@/components/home/sub-pages/base-components/category/category-list-detail';\r\n\r\nexport default {\r\n\r\n    model:{\r\n        prop:'visible',\r\n        event:'changeStatus'\r\n        },\r\n\r\n    props:{\r\n        visible:{\r\n            type:Boolean,\r\n            default:false,\r\n        }\r\n    },\r\n    components:{\r\n        CategoryListDetail,\r\n    },\r\n    data:function(){\r\n        return{\r\n            openCount:0,\r\n            thisVisible:this.visible,\r\n            categoryListDetailVisible:[],\r\n            goodsCategory:[],\r\n            selectedCategoryList:[],\r\n            //选中的商品一级分类索引\r\n            activeCategoryIndex:{\r\n                level1:0,\r\n                level2:0\r\n                },\r\n\r\n        }\r\n    },\r\n    computed:{\r\n        \r\n\r\n    },\r\n    watch:{\r\n        //vant的badge组件有问题 change事件实际上是click ，所以在此手动添加监控，监控一级菜单选中项的变化\r\n        'activeCategoryIndex.level1':{\r\n            handler: function(val){\r\n\r\n                console.log(\"change:\" +this.activeCategoryIndex.level1+\"----\"+val);\r\n                if(this.selectedCategoryList[val]===undefined)\r\n                    this.getCategory(val);\r\n            }\r\n\r\n        },\r\n        visible:function(val){\r\n            this.thisVisible=val; \r\n        },\r\n        thisVisible:function(val){\r\n            if(!val)\r\n                this.$emit('changeStatus',val);\r\n            else{\r\n                //当该界面第一次打开时调用\r\n                if(this.openCount==0)\r\n                {\r\n                    //当这个组件受 v-if v-show 影响时，mounted里面使用ref的方式可能获取不到元素 \r\n                    this.$nextTick(()=>{\r\n                        this.$refs.categoryPanelLeftMenu.$el.style.height=window.innerHeight-56+'px';\r\n                        this.$refs.categoryPanelRightMenu.style.height=window.innerHeight-56+'px';\r\n                        //console.log(window.innerHeight-56)\r\n                    })\r\n                }\r\n                this.openCount++;\r\n            }\r\n        }\r\n    },\r\n    \r\n    mounted:function(){\r\n        this.init();\r\n\r\n    },\r\n\r\n    methods:{\r\n        init:function(){\r\n              \r\n              var _this=this;\r\n              this.axios({\r\n                  type:\"get\",\r\n                  url:\"pro/category/getList\",\r\n              }).then(function(rep){\r\n                _this.goodsCategory=rep.data.data;\r\n                _this.categoryListDetailVisible=[];\r\n                //init tabs visible controll array\r\n                for(var i=0;i<_this.goodsCategory.length;i++)\r\n                {\r\n\r\n                    _this.categoryListDetailVisible.push(i==0?true:false);\r\n                }\r\n\r\n                _this.getCategory(0);\r\n\r\n              }).catch(function(error){\r\n\r\n              })\r\n              \r\n\r\n\r\n\r\n\r\n        },\r\n        getCategory:function(val){\r\n            var _this=this;\r\n            this.axios({\r\n                type:\"get\",\r\n                url:\"pro/category/getList\",\r\n            }).then(function(rep){\r\n                 _this.$set(_this.selectedCategoryList,val,rep.data.data);\r\n                //_this.selectedCategoryList[val]=rep.data.data;\r\n                console.log(rep.data.data)\r\n            //console.log(_this.selectedCategoryList.length);\r\n            }).catch(function(error){\r\n\r\n            })\r\n        },\r\n        goBack:function(){\r\n            this.thisVisible=false;\r\n        },\r\n         \r\n        changeCategory:function(key){\r\n            //可优化操作步骤，直接修改原索引下数组的值和选中的值，不需要遍历去重置为false,但可能会带来不可预知的错误，\r\n            this.activeCategoryIndex.level1=key;\r\n\r\n            this.categoryListDetailVisible=this.categoryListDetailVisible.map(function(x){\r\n                 return false;\r\n             });\r\n            this.$set(this.categoryListDetailVisible,key,true);\r\n            //this.categoryListDetailVisible[]\r\n            \r\n\r\n            //console.log(this.activeCategoryIndex.level1);\r\n        }\r\n    }\r\n    \r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    \r\n    .van-popup{\r\n        .van-nav-bar__right{\r\n            color:@color-blue;\r\n        }\r\n\r\n        .panel-with-nav-bar{\r\n            .van-badge-group{\r\n                overflow: hidden;\r\n                overflow-y:scroll;\r\n                width:85px;\r\n                float:left;\r\n               \r\n                .van-badge{\r\n                    border-bottom: 1px solid #E1E1E1;\r\n                    padding:13px 6px 13px 6px;\r\n                }\r\n                .van-badge--select{\r\n                    //default is red,out theme color is blue\r\n                   // border-left-color:@color-blue;\r\n                }\r\n            };\r\n            .category-list-detail{\r\n                float:right;\r\n                overflow: hidden;\r\n                overflow-y:scroll;\r\n                position:absolute;\r\n                left:85px;\r\n                right:0px;\r\n            }\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/home/sub-pages/category-panel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-popup',{attrs:{\"position\":\"left\"},model:{value:(_vm.thisVisible),callback:function ($$v) {_vm.thisVisible=$$v},expression:\"thisVisible\"}},[_c('van-nav-bar',{attrs:{\"fixed\":true,\"title\":\"Category\"},on:{\"click-right\":_vm.goBack}},[_c('span',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_vm._v(\"\\n                back\\n                \"),_c('van-icon',{attrs:{\"size\":\"1.3em\",\"name\":\"arrow-left\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"panel-with-nav-bar fix-left\"},[_c('van-badge-group',{ref:\"categoryPanelLeftMenu\",attrs:{\"active-key\":_vm.activeCategoryIndex.level1},on:{\"change\":_vm.changeCategory}},_vm._l((_vm.goodsCategory),function(item,index){return _c('van-badge',{key:index,attrs:{\"title\":item.categoryName}})}),1),_vm._v(\" \"),_c('div',{ref:\"categoryPanelRightMenu\",staticClass:\"category-list-detail\"},_vm._l((_vm.goodsCategory),function(item,index){return _c('category-list-detail',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.categoryListDetailVisible[index]),expression:\"categoryListDetailVisible[index]\"}],key:index,attrs:{\"categoryList\":_vm.selectedCategoryList[index]}})}),1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e016c824\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/home/sub-pages/category-panel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e016c824\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"D:\\\\\\\\About_Study\\\\\\\\研一\\\\\\\\项目\\\\\\\\商城项目\\\\\\\\代码\\\\\\\\shareShop-web-h5\\\\\\\\e-shop\\\\\\\\src\\\\\\\\assets\\\\\\\\style\\\\\\\\common.less\\\"}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./category-panel.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./category-panel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./category-panel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e016c824\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./category-panel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e016c824\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/home/sub-pages/category-panel.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}