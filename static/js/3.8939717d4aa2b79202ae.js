webpackJsonp([3],{"147t":function(t,e){},"5lc7":function(t,e){},iSDf:function(t,e){},jzGn:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={props:{value:{type:Boolean,default:!1},deep:{type:Boolean,default:!1}},data:function(){return{clickFlag:!1,isSelected:this.value}},watch:{isSelected:function(t){this.$emit("input",t)},value:function(t){this.isSelected=t}},methods:{handleSelectedClick:function(){this.clickFlag=!0,console.log("click")},handleChange:function(t){(this.clickFlag||this.deep)&&this.$emit("selected-change",t),this.clickFlag=!1}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"selected-panel"},[s("van-checkbox",{on:{input:t.handleSelectedClick,change:t.handleChange},model:{value:t.isSelected,callback:function(e){t.isSelected=e},expression:"isSelected"}}),t._v(" "),s("div",{staticClass:"right"},[t._t("right")],2)],1)},staticRenderFns:[]};var o=s("VU/8")(a,c,!1,function(t){s("ytfQ")},"data-v-ed1a4b0e",null).exports,d={props:{value:{type:Object,default:{}}},data:function(){return{productData:this.value}},watch:{productData:function(t){this.$emit("input",t)}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-info"},[s("img",{staticClass:"thumb",attrs:{src:t.productData.thumb}}),t._v(" "),s("div",{staticClass:"right-info-detail"},[s("div",{staticClass:"product-name"},[t._v(t._s(t.productData.name))]),t._v(" "),s("div",{staticClass:"product-sku"},[t._v(t._s(t.productData.sku.name))]),t._v(" "),s("div",{staticClass:"bot-panel"},[s("div",{staticClass:"price"},[t._v("$ "+t._s(parseFloat(t.productData.price).toFixed(2)))]),t._v(" "),s("div",{staticClass:"stepper"},[s("van-stepper",{attrs:{integer:""},model:{value:t.productData.num,callback:function(e){t.$set(t.productData,"num",e)},expression:"productData.num"}})],1)])])])},staticRenderFns:[]};var r=s("VU/8")(d,n,!1,function(t){s("147t")},"data-v-2f68ea2e",null).exports,i={props:{value:{type:Object,default:{}},deep:{type:Boolean,default:!1}},components:{productCardOne:r,selectedPanel:o},data:function(){return{productData:this.value}},watch:{productData:function(t){this.$emit("input",t)}},methods:{handleSelectedChange:function(){this.$emit("products-item-selected-change")},deleteThisOne:function(t,e){console.log({productId:t,skuId:e}),this.$emit("delete-product",{productId:t,skuId:e})}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-swipe-cell",{attrs:{"right-width":60}},[s("selected-panel",{staticClass:"selected-panel",attrs:{deep:t.deep},on:{"selected-change":t.handleSelectedChange},model:{value:t.productData.isSelected,callback:function(e){t.$set(t.productData,"isSelected",e)},expression:"productData.isSelected"}},[s("product-card-one",{staticClass:"product-card-one",attrs:{slot:"right"},slot:"right",model:{value:t.productData,callback:function(e){t.productData=e},expression:"productData"}})],1),t._v(" "),s("van-button",{attrs:{slot:"right",type:"danger"},on:{click:function(e){return t.deleteThisOne(t.productData.productId,t.productData.sku.id)}},slot:"right"},[t._v("\n        delete\n    ")])],1)},staticRenderFns:[]};var u=s("VU/8")(i,l,!1,function(t){s("kQL4")},"data-v-3b67c803",null).exports,p={props:{value:{type:Object,default:{}},deep:{type:Boolean,default:!1}},components:{selectedPanel:o,productCardSwipe:u},data:function(){return{shop:!1,productsCard:this.value}},computed:{},watch:{productsCard:function(t){this.$emit("input",t)},"productsCard.isSelected":function(t){this.$emit("selected-shop")}},methods:{handleShopSelected:function(t){for(var e=0;e<this.productsCard.goodsList.length;e++){var s;this.productsCard.goodsList[e].isSelected=t,s=this.productsCard.goodsList[e],this.$set(this.productsCard.goodsList,e,s)}},handleProductDelete:function(t){for(var e=0;e<this.productsCard.goodsList.length;e++){var s=this.productsCard.goodsList[e];t.productId==s.productId&&t.skuId==s.sku.id&&this.productsCard.goodsList.splice(e,1)}this.$emit("delete-product",t)},handleItemChange:function(){for(var t=!0,e=0;e<this.productsCard.goodsList.length;e++)t=t&&this.productsCard.goodsList[e].isSelected;this.productsCard.isSelected=t}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-card g-white-card"},[s("div",{staticClass:"top"},[s("selected-panel",{on:{"selected-change":t.handleShopSelected},model:{value:t.productsCard.isSelected,callback:function(e){t.$set(t.productsCard,"isSelected",e)},expression:"productsCard.isSelected"}},[s("div",{staticClass:"store-title",attrs:{slot:"right"},slot:"right"},[s("van-icon",{attrs:{name:"shop-o"}}),t._v(" "),s("span",{staticClass:"store-name"},[t._v(t._s(t.productsCard.storeName))])],1)])],1),t._v(" "),s("div",{staticClass:"main"},t._l(t.productsCard.goodsList,function(e,a){return s("product-card-swipe",{key:e.productId,attrs:{slot:"right",deep:t.deep},on:{"products-item-selected-change":t.handleItemChange,"delete-product":t.handleProductDelete},slot:"right",model:{value:t.productsCard.goodsList[a],callback:function(e){t.$set(t.productsCard.goodsList,a,e)},expression:"productsCard.goodsList[index]"}})}),1),t._v(" "),s("div")])},staticRenderFns:[]};var v={components:{productCard:s("VU/8")(p,h,!1,function(t){s("iSDf")},"data-v-333ae12c",null).exports},data:function(){return{selectedAll:!1,selectedAllDeepFlag:!1,productsData:[{storeName:"share shop",storeId:1,isSelected:!1,goodsList:[{isSelected:!1,productId:1,thumb:"https://www.uniqlo.cn/hmall/test/u0000000005573/main/first/1000/1.jpg",price:20,sku:{id:2,name:"白色"},num:1,name:"【设计师合作款】女装  双面针织大衣  416550"},{isSelected:!1,productId:2,thumb:"https://www.uniqlo.cn/hmall/test/u0000000005573/main/first/1000/1.jpg",price:20,sku:{id:3,name:"黑色"},num:1,name:"测试商品2"}]}]}},mounted:function(){this.$store.commit("update_num_ProductsInCart",{num:this.totalProductsNum})},watch:{selectedAll:function(t){this.selectedAllDeepFlag=!0;for(var e=0;e<this.productsData.length;e++)this.productsData[e].isSelected=t},"productsData.length":function(t){},totalProductsNum:function(t){this.$store.commit("update_num_ProductsInCart",{num:t})}},computed:{totalPrice:function(){for(var t=0,e=0;e<this.productsData.length;e++)for(var s=0;s<this.productsData[e].goodsList.length;s++)this.productsData[e].goodsList[s].isSelected&&(t+=this.productsData[e].goodsList[s].price*this.productsData[e].goodsList[s].num);return 100*t},totalProductsNum:function(){for(var t=0,e=0;e<this.productsData.length;e++)t+=this.productsData[e].goodsList.length;return t},adjustedProductsData:function(){for(var t=0;t<this.productsData.length;t++)0==this.productsData[t].goodsList.length&&this.productsData.splice(t,1);return this.productsData},adjustedSelectedAllData:function(){}},methods:{goBack:function(){this.$router.back(1)},handleShopSelected:function(){for(var t=!0,e=0;e<this.productsData.length;e++)t=t&&this.productsData[e].isSelected;this.selectedAll=t},delOneProductsInCart:function(t,e){for(var s=0;s<this.productsData.length;s++)for(var a=0;a<this.productsData[s].goodsList.length;a++){var c=this.productsData[s].goodsList[a];c.productId==t&&c.sku.id==e&&this.productsData[s].goodsList.splice(a,1)}},submit:function(){var t=this.checkSelected();console.log(t),t.flag||0!=t.count?this.$router.push({path:"/confirmOrder"}):this.$toast("You haven't selected a product yet !")},checkSelected:function(){for(var t=!1,e=0,s=0;s<this.productsData.length;s++)for(var a=0;a<this.productsData[s].goodsList.length;a++)this.productsData[s].goodsList[a].isSelected&&(e++,t=!0);return{flag:t,count:e}}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart"},[s("van-row",{staticClass:"nav-bar g-white-card"},[s("van-col",{staticClass:"left",attrs:{span:5}},[t._v("\n               \n        ")]),t._v(" "),s("van-col",{staticClass:"title",attrs:{span:14}},[t._v("Cart")]),t._v(" "),s("van-col",{staticClass:"right",attrs:{span:5}},[t._v("\n            Manage\n        ")])],1),t._v(" "),s("div",{staticClass:"fun-panel"},t._l(t.adjustedProductsData,function(e,a){return s("product-card",{key:a,attrs:{deep:t.selectedAllDeepFlag},on:{"selected-shop":t.handleShopSelected},model:{value:t.productsData[a],callback:function(e){t.$set(t.productsData,a,e)},expression:"productsData[index]"}})}),1),t._v(" "),s("van-submit-bar",{attrs:{price:t.totalPrice,currency:"$","button-text":"submit"},on:{submit:t.submit}},[s("van-checkbox",{model:{value:t.selectedAll,callback:function(e){t.selectedAll=e},expression:"selectedAll"}},[t._v("All")])],1)],1)},staticRenderFns:[]};var g=s("VU/8")(v,f,!1,function(t){s("5lc7")},"data-v-c404336e",null);e.default=g.exports},kQL4:function(t,e){},ytfQ:function(t,e){}});
//# sourceMappingURL=3.8939717d4aa2b79202ae.js.map