webpackJsonp([7],{Cb1R:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mvHQ"),i=s.n(a),n={data:function(){return{searchHistoryList:[]}},mounted:function(){this.init()},methods:{init:function(){var t=window.localStorage;this.searchHistoryList=JSON.parse(t.getItem("search-history"))},doSearch:function(t){this.$emit("do-search",t)},updateList:function(){console.log("update"),this.init()},delSearchHistory:function(){window.localStorage.setItem("search-history","[]"),console.log("success del search history"),this.init()}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-history"},[s("van-row",{staticClass:"head-bar"},[s("van-col",{staticClass:"title",attrs:{span:18,offset:1}},[t._v("Search History")]),t._v(" "),s("van-col",{staticClass:"del-button",attrs:{span:4}},[s("van-icon",{attrs:{name:"delete"},on:{click:t.delSearchHistory}})],1)],1),t._v(" "),s("van-row",{staticClass:"tags-area"},[s("van-col",{attrs:{span:23,offset:1}},t._l(t.searchHistoryList,function(e,a){return s("van-tag",{key:a,attrs:{type:a<3?"primary":"",size:"large",plain:""},on:{click:function(s){return t.doSearch(e)}}},[t._v(t._s(e))])}),1)],1)],1)},staticRenderFns:[]};var o=s("VU/8")(n,r,!1,function(t){s("MDx7")},"data-v-1ab115cc",null).exports,c=s("+333"),h={model:{prop:"visible",event:"changeStatus"},props:{visible:{type:Boolean,default:!1}},components:{SearchHistory:o,ProductList:c.a},data:function(){return{thisVisible:this.visible,searchContent:"",onSearch:!1}},watch:{visible:function(t){this.thisVisible=t},thisVisible:function(t){t||this.$emit("changeStatus",t)}},methods:{goBack:function(){this.thisVisible=!1,this.reset()},handleTagClick:function(t){console.log("clicked search tag value:"+t),this.searchContent=t,this.handleSearch()},handleSearch:function(){if(""!=this.searchContent){var t=window.localStorage,e=JSON.parse(t.getItem("search-history")||"[]"),s=e.indexOf(this.searchContent);-1===s?e.unshift(this.searchContent):(e.splice(s,1),e.unshift(this.searchContent));var a=i()(e);t.setItem("search-history",a),this.doSearch(),this.updateSearchHistoryPal()}else console.log("please input the search value")},updateSearchHistoryPal:function(){this.$refs.searchHistory.updateList()},doSearch:function(){this.onSearch=!0},reset:function(){this.searchContent="",this.onSearch=!1}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-popup",{attrs:{position:"right"},model:{value:t.thisVisible,callback:function(e){t.thisVisible=e},expression:"thisVisible"}},[s("van-nav-bar",{attrs:{fixed:"","left-arrow":"","left-text":"back"},on:{"click-left":t.goBack}},[s("van-search",{attrs:{slot:"title",placeholder:" Enter the keyword"},slot:"title",model:{value:t.searchContent,callback:function(e){t.searchContent=e},expression:"searchContent"}}),t._v(" "),s("van-button",{staticClass:"search-action",attrs:{slot:"right",plain:"",size:"small",type:"info"},on:{click:t.handleSearch},slot:"right"},[t._v("\n                            Search\n            ")])],1),t._v(" "),s("div",{staticClass:"panel-with-nav-bar"},[s("search-history",{directives:[{name:"show",rawName:"v-show",value:!t.onSearch,expression:"!onSearch"}],ref:"searchHistory",on:{"do-search":t.handleTagClick}}),t._v(" "),s("product-list",{directives:[{name:"show",rawName:"v-show",value:t.onSearch,expression:"onSearch"}]})],1)],1)},staticRenderFns:[]};var u=s("VU/8")(h,l,!1,function(t){s("LP+o")},"data-v-61b3079a",null);e.default=u.exports},FeBl:function(t,e){var s=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=s)},"LP+o":function(t,e){},MDx7:function(t,e){},mvHQ:function(t,e,s){t.exports={default:s("qkKv"),__esModule:!0}},qkKv:function(t,e,s){var a=s("FeBl"),i=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}}});
//# sourceMappingURL=7.74da06a88968dba57ea0.js.map