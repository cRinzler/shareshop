webpackJsonp([11],{"JqT+":function(t,e){},"f6+I":function(t,e){},rUpI:function(t,e){},sHEZ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={props:{categoryItemData:{type:Object,required:!0}},data:function(){return{}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"category-card"},[e("div",{staticClass:"category-img"},[e("img",{attrs:{src:this.categoryItemData.categoryThumb}})]),this._v(" "),e("p",{staticClass:"category-desc"},[this._v(this._s(this.categoryItemData.categoryName))])])},staticRenderFns:[]};var o=i("VU/8")(a,n,!1,function(t){i("f6+I")},"data-v-6bfa498e",null).exports,s={props:{categoryList:{type:Array,default:function(){return[]}}},components:{CategoryListDetailItem:o},data:function(){return{}},computed:{categoryListRowNum:function(){return Math.floor(this.categoryList.length/3)+1},categoryListFirstColNum:function(){return Math.floor(this.categoryList.length%3)}},created:function(){console.log("categoryList.length:"+this.categoryList.length)},beforeMount:function(){},mounted:function(){}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.categoryList.length>0?t._l(t.categoryListRowNum,function(e,a){return i("van-row",{key:a,attrs:{type:"flex"}},t._l(t.categoryList.length-3*(e-1)>=3?3:t.categoryList.length-3*(e-1),function(a){return i("van-col",{key:3*(e-1)+a,attrs:{span:"8"}},[i("category-list-detail-item",{attrs:{categoryItemData:t.categoryList[3*(e-1)+a-1]}})],1)}),1)}):t._e()],2)},staticRenderFns:[]};var c=i("VU/8")(s,r,!1,function(t){i("rUpI")},"data-v-049fedd4",null).exports,l={model:{prop:"visible",event:"changeStatus"},props:{visible:{type:Boolean,default:!1}},components:{CategoryListDetail:c},data:function(){return{openCount:0,thisVisible:this.visible,categoryListDetailVisible:[],goodsCategory:[],selectedCategoryList:[],activeCategoryIndex:{level1:0,level2:0}}},computed:{},watch:{"activeCategoryIndex.level1":{handler:function(t){console.log("change:"+this.activeCategoryIndex.level1+"----"+t),void 0===this.selectedCategoryList[t]&&this.getCategory(t)}},visible:function(t){this.thisVisible=t},thisVisible:function(t){var e=this;t?(0==this.openCount&&this.$nextTick(function(){e.$refs.categoryPanelLeftMenu.$el.style.height=window.innerHeight-56+"px",e.$refs.categoryPanelRightMenu.style.height=window.innerHeight-56+"px"}),this.openCount++):this.$emit("changeStatus",t)}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.axios({type:"get",url:"pro/category/getList"}).then(function(e){t.goodsCategory=e.data.data,t.categoryListDetailVisible=[];for(var i=0;i<t.goodsCategory.length;i++)t.categoryListDetailVisible.push(0==i);t.getCategory(0)}).catch(function(t){})},getCategory:function(t){var e=this;this.axios({type:"get",url:"pro/category/getList"}).then(function(i){e.$set(e.selectedCategoryList,t,i.data.data),console.log(i.data.data)}).catch(function(t){})},goBack:function(){this.thisVisible=!1},changeCategory:function(t){this.activeCategoryIndex.level1=t,this.categoryListDetailVisible=this.categoryListDetailVisible.map(function(t){return!1}),this.$set(this.categoryListDetailVisible,t,!0)}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("van-popup",{attrs:{position:"left"},model:{value:t.thisVisible,callback:function(e){t.thisVisible=e},expression:"thisVisible"}},[i("van-nav-bar",{attrs:{fixed:!0,title:"Category"},on:{"click-right":t.goBack}},[i("span",{attrs:{slot:"right"},slot:"right"},[t._v("\n                back\n                "),i("van-icon",{attrs:{size:"1.3em",name:"arrow-left"}})],1)]),t._v(" "),i("div",{staticClass:"panel-with-nav-bar fix-left"},[i("van-badge-group",{ref:"categoryPanelLeftMenu",attrs:{"active-key":t.activeCategoryIndex.level1},on:{change:t.changeCategory}},t._l(t.goodsCategory,function(t,e){return i("van-badge",{key:e,attrs:{title:t.categoryName}})}),1),t._v(" "),i("div",{ref:"categoryPanelRightMenu",staticClass:"category-list-detail"},t._l(t.goodsCategory,function(e,a){return i("category-list-detail",{directives:[{name:"show",rawName:"v-show",value:t.categoryListDetailVisible[a],expression:"categoryListDetailVisible[index]"}],key:a,attrs:{categoryList:t.selectedCategoryList[a]}})}),1)],1)],1)},staticRenderFns:[]};var u=i("VU/8")(l,g,!1,function(t){i("JqT+")},"data-v-e016c824",null);e.default=u.exports}});
//# sourceMappingURL=11.939edf74b18783377fa2.js.map